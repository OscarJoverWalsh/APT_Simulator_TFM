

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Initial Access Attacks &mdash; caldera  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Windows Lateral Movement Guide" href="Lateral-Movement-Guide.html" />
    <link rel="prev" title="Operation Results" href="Operation-Results.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/caldera-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Usage Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Installing-CALDERA.html">Installing CALDERA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Learning-the-terminology.html">Learning the terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="Basic-Usage.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="Server-Configuration.html">Server Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plugin-library.html">Plugin library</a></li>
<li class="toctree-l1"><a class="reference internal" href="Parsers.html">Parsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Relationships.html">Relationships</a></li>
<li class="toctree-l1"><a class="reference internal" href="Requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="Objectives.html">Objectives</a></li>
<li class="toctree-l1"><a class="reference internal" href="Operation-Results.html">Operation Results</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Initial Access Attacks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#run-an-initial-access-technique">Run an initial access technique</a></li>
<li class="toctree-l2"><a class="reference internal" href="#write-an-initial-access-ability">Write an initial access ability</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-a-binary">Create a binary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-an-ability">Create an ability</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-the-ability">Run the ability</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Lateral-Movement-Guide.html">Windows Lateral Movement Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dynamically-Compiled-Payloads.html">Dynamically-Compiled Payloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="Exfiltration.html">Exfiltration</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sandcat-Peer-to-Peer.html">Peer-to-Peer Proxy Functionality for Sandcat Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="C2-Tunneling.html">C2 Communications Tunneling</a></li>
<li class="toctree-l1"><a class="reference internal" href="Uninstalling-CALDERA.html">Uninstall CALDERA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Plugin Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="plugins/sandcat/Sandcat-Details.html">Sandcat Plugin Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins/stockpile/Exfiltration-How-Tos.html">Exfiltration Scenarios and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins/stockpile/Exfiltration-How-Tos.html#an-example">An Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins/stockpile/Exfiltration-How-Tos.html#wrap-up">Wrap-up</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="The-REST-API.html">The REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="How-to-Build-Plugins.html">How to Build Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="How-to-Build-Planners.html">How to Build Planners</a></li>
<li class="toctree-l1"><a class="reference internal" href="How-to-Build-Agents.html">How to Build Agents</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Core System API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="_generated/modules.html">app</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">caldera</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Initial Access Attacks</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Initial-Access-Attacks.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="initial-access-attacks">
<h1>Initial Access Attacks<a class="headerlink" href="#initial-access-attacks" title="Permalink to this heading">¶</a></h1>
<p>CALDERA allows for easy initial access attacks, by leveraging the <a class="reference internal" href="Plugin-library.html#access"><span class="std std-doc">Access</span></a> plugin. This guide will walk you through how
to fire off an initial access attack, as well as how to build your own.</p>
<div class="section" id="run-an-initial-access-technique">
<h2>Run an initial access technique<a class="headerlink" href="#run-an-initial-access-technique" title="Permalink to this heading">¶</a></h2>
<p>Start by deploying an agent locally. This agent will be your “assistant”. It will execute any attack you feed it. You
could alternatively deploy the agent remotely, which will help mask where your initial access attacks are originating.</p>
<p>From the Access plugin, select your agent and either the initial access tactic or any pre-ATT&amp;CK tactic. This will
filter the abilities. Select any ability within your chosen tactic.</p>
<p>Once selected, a pop-up box will show you details about the ability. You’ll need to fill in values for any properties
your selected ability requires. Click OK when done.</p>
<p>Finally, click to run the ability against your selected agent. The ability will be in one of 3 states: IN-PROGRESS,
SUCCESS or FAILED. If it is in either of the latter two states, you can view the logs from the executed ability by
clicking on the star.</p>
</div>
<div class="section" id="write-an-initial-access-ability">
<h2>Write an initial access ability<a class="headerlink" href="#write-an-initial-access-ability" title="Permalink to this heading">¶</a></h2>
<p>You can easily add new initial access or pre-ATT&amp;CK abilities yourself.</p>
<div class="section" id="create-a-binary">
<h3>Create a binary<a class="headerlink" href="#create-a-binary" title="Permalink to this heading">¶</a></h3>
<p>You can use an existing binary or write your own - in any language - to act as your payload. The binary itself should
contain the code to execute your attack. It can be as simple or complex as you’d like. It should accept parameters
for any dynamic behaviors. At minimum, you should require a parameter for “target”, which would be your intended IP
address, FQDN or other target that your attack will run against.</p>
<p>As an example, look at the scanner.sh binary used for conducting a simple NMAP scan:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/bin/bash

echo &#39;[+] Starting basic NMAP scan&#39;
nmap -Pn $1
echo &#39;[+] Complete with module&#39;
</pre></div>
</div>
<p>This binary simply echos a few log statements and runs an NMAP scan against the first parameter (i.e., the target) passed to it.</p>
</div>
<div class="section" id="create-an-ability">
<h3>Create an ability<a class="headerlink" href="#create-an-ability" title="Permalink to this heading">¶</a></h3>
<p>With your binary at hand, you can now create a new ability YML file inside the Access plugin (plugins/access/data/abilities/*).
Select the correct tactic directory (or create one if one does not exist). Here is what the YML file looks like for
the scanner.sh binary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="o">-</span> <span class="nb">id</span><span class="p">:</span> <span class="mi">567</span><span class="n">eaaba</span><span class="o">-</span><span class="mi">94</span><span class="n">cc</span><span class="o">-</span><span class="mi">4</span><span class="n">a27</span><span class="o">-</span><span class="mi">83</span><span class="n">f8</span><span class="o">-</span><span class="mf">768e5638</span><span class="n">f4e1</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">NMAP</span> <span class="n">scan</span>
  <span class="n">description</span><span class="p">:</span> <span class="n">Scan</span> <span class="n">an</span> <span class="n">external</span> <span class="n">host</span> <span class="k">for</span> <span class="nb">open</span> <span class="n">ports</span> <span class="ow">and</span> <span class="n">services</span>
  <span class="n">tactic</span><span class="p">:</span> <span class="n">technical</span><span class="o">-</span><span class="n">information</span><span class="o">-</span><span class="n">gathering</span>
  <span class="n">technique</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Conduct</span> <span class="n">active</span> <span class="n">scanning</span>
    <span class="n">attack_id</span><span class="p">:</span> <span class="n">T1254</span>
  <span class="n">platforms</span><span class="p">:</span>
    <span class="n">darwin</span><span class="p">,</span><span class="n">linux</span><span class="p">:</span>
      <span class="n">sh</span><span class="p">:</span>
        <span class="n">command</span><span class="p">:</span> <span class="o">|</span>
          <span class="o">./</span><span class="n">scanner</span><span class="o">.</span><span class="n">sh</span> <span class="c1">#{target.ip}</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="mi">300</span>
        <span class="n">payloads</span><span class="p">:</span>
          <span class="o">-</span> <span class="n">scanner</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>This is the same format that is used for other CALDERA abilities, so refer to the <a class="reference internal" href="Learning-the-terminology.html"><span class="doc std std-doc">Learning the terminology</span></a> page
for a run-through of all the fields.</p>
</div>
<div class="section" id="run-the-ability">
<h3>Run the ability<a class="headerlink" href="#run-the-ability" title="Permalink to this heading">¶</a></h3>
<p>With your ability YML file loaded, restart CALDERA and head to the Access plugin to run it.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Lateral-Movement-Guide.html" class="btn btn-neutral float-right" title="Windows Lateral Movement Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Operation-Results.html" class="btn btn-neutral float-left" title="Operation Results" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2023, The MITRE Corporation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>